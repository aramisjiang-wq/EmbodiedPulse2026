# Flask应用启动说明

## ⚠️ 重要提示

如果遇到 `TemplateNotFound: index.html` 错误，请按以下步骤操作：

## 解决方案

### 方法一：使用启动脚本（推荐）

```bash
# 在项目根目录下运行
python3 run_app.py
```

这个脚本会自动：
- 切换到正确的目录
- 设置正确的Python路径
- 显示调试信息

### 方法二：确保从正确目录运行

```bash
# 1. 进入项目目录
cd "/Users/dong/Documents/Cursor/Embodied Pulse"

# 2. 停止所有旧的Flask进程
lsof -ti:5001 | xargs kill -9 2>/dev/null

# 3. 启动应用
python3 app.py
```

### 方法三：清理并重启

```bash
# 1. 停止所有Python进程（谨慎使用）
pkill -f "python.*app.py" 2>/dev/null

# 2. 清理Python缓存
find . -type d -name __pycache__ -exec rm -r {} + 2>/dev/null
find . -name "*.pyc" -delete 2>/dev/null

# 3. 使用启动脚本重新启动
python3 run_app.py
```

## 验证修复

启动后，访问 http://localhost:5001，应该能看到主页。

如果还有问题，查看启动日志中的路径信息，确保：
- 模板目录: `/Users/dong/Documents/Cursor/Embodied Pulse/templates`
- 模板文件存在: `templates/index.html`

## 常见问题

### Q: 为什么还是报错？
A: 可能是旧的Flask进程还在运行。先停止所有相关进程：
```bash
lsof -ti:5001 | xargs kill -9
pkill -f "python.*app.py"
```

### Q: 如何确认修复生效？
A: 启动时会看到日志：
```
[INFO] Flask应用初始化 - 文件路径: /Users/dong/Documents/Cursor/Embodied Pulse/app.py
[INFO] 模板目录存在: True
```

如果看到这些日志，说明修复已生效。

