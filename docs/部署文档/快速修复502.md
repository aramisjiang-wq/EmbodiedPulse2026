# å¿«é€Ÿä¿®å¤502é”™è¯¯

## ğŸš€ æœ€å¿«ä¿®å¤æ–¹æ³•

### åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
ssh root@115.190.77.57
# å¯†ç : ash@2025

# ä¸€é”®ä¿®å¤å‘½ä»¤ï¼ˆå¤åˆ¶ç²˜è´´æ‰§è¡Œï¼‰
cd /opt/EmbodiedPulse && \
git fetch origin main && \
git reset --hard origin/main && \
git clean -fd && \
docker-compose down && \
docker-compose up -d --build && \
sleep 30 && \
echo "=== å®¹å™¨çŠ¶æ€ ===" && \
docker-compose ps && \
echo "" && \
echo "=== æœåŠ¡æ—¥å¿—ï¼ˆæœ€å30è¡Œï¼‰===" && \
docker-compose logs --tail=30 web
```

## ğŸ“‹ åˆ†æ­¥æ‰§è¡Œï¼ˆå¦‚æœä¸€é”®å‘½ä»¤å¤±è´¥ï¼‰

```bash
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/EmbodiedPulse

# 2. å¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå…ˆåˆ›å»º
if [ ! -d "/opt/EmbodiedPulse" ]; then
    mkdir -p /opt/EmbodiedPulse
    cd /opt/EmbodiedPulse
    git clone https://github.com/aramisjiang-wq/EmbodiedPulse2026.git .
fi

# 3. æ›´æ–°ä»£ç 
git fetch origin main
git reset --hard origin/main
git clean -fd

# 4. åœæ­¢æ—§å®¹å™¨
docker-compose down

# 5. å¯åŠ¨æ–°å®¹å™¨
docker-compose up -d --build

# 6. ç­‰å¾…å¯åŠ¨
sleep 30

# 7. æ£€æŸ¥çŠ¶æ€
docker-compose ps
docker-compose logs web
```

## ğŸ” å¦‚æœè¿˜æ˜¯502ï¼Œæ£€æŸ¥ä»¥ä¸‹é—®é¢˜

### 1. æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
```bash
docker-compose ps
```
åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå®¹å™¨ï¼š`embodied-pulse-postgres` å’Œ `embodied-pulse-web`ï¼ŒçŠ¶æ€éƒ½åº”è¯¥æ˜¯ `Up`

### 2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
```bash
docker-compose logs web
```
æŸ¥çœ‹å…·ä½“çš„é”™è¯¯ä¿¡æ¯

### 3. æ£€æŸ¥æ•°æ®åº“è¿æ¥
```bash
docker-compose exec web python3 -c "from models import get_session; s = get_session(); print('æ•°æ®åº“è¿æ¥æˆåŠŸ')"
```

### 4. æ£€æŸ¥ç«¯å£
```bash
netstat -tulpn | grep 5001
```

### 5. å®Œå…¨é‡å»ºï¼ˆæœ€åæ‰‹æ®µï¼‰
```bash
cd /opt/EmbodiedPulse
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
sleep 30
docker-compose ps
```

## âœ… éªŒè¯ä¿®å¤

ä¿®å¤åè®¿é—®ï¼šhttp://115.190.77.57:5001

åº”è¯¥çœ‹åˆ°ï¼š
- âœ… é¡µé¢æ­£å¸¸åŠ è½½
- âœ… æ²¡æœ‰502é”™è¯¯
- âœ… åŠŸèƒ½æ­£å¸¸

