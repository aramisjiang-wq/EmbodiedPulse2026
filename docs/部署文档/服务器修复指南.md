# æœåŠ¡å™¨502é”™è¯¯ä¿®å¤æŒ‡å—

## ğŸš¨ å½“å‰é—®é¢˜

æœåŠ¡å™¨è¿”å› **HTTP 502é”™è¯¯**ï¼Œè¯´æ˜æœåŠ¡æœªæ­£å¸¸è¿è¡Œã€‚

## ğŸ”§ ç«‹å³ä¿®å¤ï¼ˆåœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰

### æ–¹æ³•ä¸€ï¼šä¸€é”®ä¿®å¤å‘½ä»¤

```bash
ssh root@115.190.77.57
# å¯†ç : ash@2025

# å¤åˆ¶ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œ
cd /opt/EmbodiedPulse && \
git fetch origin main && \
git reset --hard origin/main && \
git clean -fd && \
docker-compose down && \
docker-compose up -d --build && \
sleep 30 && \
docker-compose ps && \
docker-compose logs --tail=30 web
```

### æ–¹æ³•äºŒï¼šå¦‚æœé¡¹ç›®ç›®å½•ä¸å­˜åœ¨

```bash
ssh root@115.190.77.57

# å®‰è£…Docker
curl -fsSL https://get.docker.com -o get-docker.sh && sh get-docker.sh && systemctl start docker && systemctl enable docker && rm get-docker.sh

# å®‰è£…Docker Compose
curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose && chmod +x /usr/local/bin/docker-compose

# å…‹éš†é¡¹ç›®
mkdir -p /opt/EmbodiedPulse && cd /opt/EmbodiedPulse
git clone https://github.com/aramisjiang-wq/EmbodiedPulse2026.git .

# å¯åŠ¨æœåŠ¡
docker-compose up -d --build

# ç­‰å¾…å¹¶æ£€æŸ¥
sleep 30
docker-compose ps
docker-compose logs web
```

## ğŸ” è¯Šæ–­æ­¥éª¤

å¦‚æœä¿®å¤åè¿˜æ˜¯502ï¼Œæ‰§è¡Œä»¥ä¸‹è¯Šæ–­ï¼š

### 1. æ£€æŸ¥å®¹å™¨çŠ¶æ€
```bash
docker-compose ps
```
åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œï¼ˆçŠ¶æ€ä¸º `Up`ï¼‰

### 2. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
```bash
docker-compose logs web
```
æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯

### 3. æ£€æŸ¥ç«¯å£
```bash
netstat -tulpn | grep 5001
lsof -i:5001
```

### 4. æ£€æŸ¥æ•°æ®åº“
```bash
docker-compose ps postgres
docker-compose logs postgres
```

### 5. å®Œå…¨é‡å»º
```bash
cd /opt/EmbodiedPulse
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
sleep 30
docker-compose ps
```

## ğŸ“Š GitHub ActionsçŠ¶æ€

æ ¹æ®æ£€æŸ¥ï¼ŒGitHub Actionså·²ç»å°è¯•éƒ¨ç½²ä½†å¤±è´¥äº†ã€‚å¯èƒ½åŸå› ï¼š
1. æœåŠ¡å™¨ä¸ŠDockeræœªå®‰è£…
2. é¡¹ç›®ç›®å½•ä¸å­˜åœ¨
3. SSHè¿æ¥é—®é¢˜
4. æ„å»ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å…ˆæ‰‹åŠ¨åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¿®å¤å‘½ä»¤ï¼ˆæ–¹æ³•ä¸€ï¼‰
2. ä¿®å¤åï¼ŒGitHub Actionsåº”è¯¥èƒ½æ­£å¸¸å·¥ä½œ

## âœ… éªŒè¯ä¿®å¤

ä¿®å¤åè®¿é—®ï¼šhttp://115.190.77.57:5001

åº”è¯¥çœ‹åˆ°ï¼š
- âœ… é¡µé¢æ­£å¸¸åŠ è½½
- âœ… æ²¡æœ‰502é”™è¯¯
- âœ… åŠŸèƒ½æ­£å¸¸ï¼ˆå²—ä½æœºä¼šæŒ‚ä»¶å·²éšè—ï¼‰

## ğŸ†˜ å¦‚æœè¿˜æ˜¯ä¸è¡Œ

æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥ä¾¿è¿›ä¸€æ­¥è¯Šæ–­ï¼š
1. `docker-compose ps` çš„è¾“å‡º
2. `docker-compose logs web` çš„æœ€å50è¡Œ
3. `docker-compose logs postgres` çš„æœ€å20è¡Œ

