# Embodied Pulse - 产品需求文档 (PRD)

**文档版本**: v2.0  
**创建日期**: 2025-12-17  
**最后更新**: 2025-12-19  
**产品状态**: ✅ 已上线运行中

---

## 📋 文档说明

本文档是 Embodied Pulse 项目的产品需求文档（Product Requirements Document），定义了产品的核心功能、用户需求、使用场景和产品规格。

**文档目标**：
- 明确产品定位和核心价值
- 定义功能需求和优先级
- 指导产品开发和迭代
- 作为团队沟通的参考依据

---

## 1. 产品概述

### 1.1 产品定义

**产品名称**: Embodied Pulse（具身脉搏）  
**产品类型**: Web应用 + 数据服务 + 管理平台  
**目标用户**: 具身智能和机器人领域的研究人员、工程师、学生、管理员

**一句话描述**：
一个专注于具身智能和机器人领域的ArXiv论文自动抓取、分类和展示平台，同时提供B站视频内容追踪和管理功能。

### 1.2 产品价值

**解决的问题**：
1. ❌ ArXiv每天发表大量论文，研究人员难以快速找到相关论文
2. ❌ 论文分散在不同类别，缺乏专业领域的整合视图
3. ❌ 手动搜索效率低，容易错过重要研究成果
4. ❌ 缺少代码链接，难以复现研究结果
5. ❌ B站视频内容分散，难以追踪具身智能领域的最新动态
6. ❌ 缺乏统一的管理平台，数据维护困难

**提供的价值**：
1. ✅ 自动抓取和分类具身智能领域的最新论文
2. ✅ 按研究方向组织，方便快速浏览
3. ✅ 提供搜索和筛选功能，快速定位目标论文
4. ✅ 自动提取代码链接，方便实践和复现
5. ✅ 追踪B站UP主和视频内容，了解行业动态
6. ✅ 提供完整的管理平台，方便数据维护

### 1.3 产品定位

**领域定位**: 具身智能（Embodied AI）和机器人学习
- Perception（感知理解）
- Decision（决策规划）
- Learning（学习算法）
- Motion Control（运动控制）
- Operation（操作交互）
- Benchmark（评测基准）

**产品形态**: 
- Web应用（前端展示）
- RESTful API（数据服务）
- 自动化服务（定时抓取）
- 管理平台（数据管理）

---

## 2. 用户分析

### 2.1 目标用户

#### 主要用户群体

**1. 研究人员**
- **特征**: 高校或研究机构的研究人员
- **需求**: 跟踪最新研究进展，寻找相关工作
- **使用频率**: 每天或每周多次
- **关注点**: 论文质量、研究方向、作者团队

**2. 工程师**
- **特征**: 科技公司的算法工程师
- **需求**: 学习前沿技术，寻找可复现的方案
- **使用频率**: 每周或每月
- **关注点**: 代码实现、实用性、效果对比

**3. 学生**
- **特征**: 相关专业的研究生和博士生
- **需求**: 学习领域知识，寻找研究方向
- **使用频率**: 定期浏览
- **关注点**: 入门难度、代码可用性、论文理解

**4. 管理员**
- **特征**: 系统管理员、数据维护人员
- **需求**: 管理论文和视频数据，维护系统稳定
- **使用频率**: 每天
- **关注点**: 数据准确性、系统稳定性、操作便捷性

---

## 3. 功能需求

### 3.1 核心功能

#### F1: 具身论文页面 ⭐⭐⭐⭐⭐

**功能描述**：
自动从ArXiv API抓取具身智能领域的最新论文，按研究方向分类展示。

**功能点**：
- ✅ 支持手动触发抓取（刷新论文数据按钮）
- ✅ 支持自动定时抓取（每小时整点执行）
- ✅ 按研究方向分类（33个精准标签）
- ✅ 自动提取论文信息（标题、作者、日期、链接）
- ✅ 自动提取代码链接
- ✅ 智能去重（标题相似度检测）
- ✅ 增量更新（只抓取新论文）
- ✅ 实时进度显示（抓取进度条）
- ✅ 新论文红点提示
- ✅ 搜索和筛选功能
- ✅ 统计信息展示

**抓取策略**：
- 抓取最近21天的新论文
- 按关键词分类（350+个检索词）
- 自动分类入库
- 支持Semantic Scholar数据补充

**优先级**: P0（核心功能）

---

#### F2: 具身视频Hub页面 ⭐⭐⭐⭐⭐

**功能描述**：
追踪B站具身智能领域UP主和视频内容，提供数据可视化和统计分析。

**功能点**：
- ✅ UP主信息展示（粉丝数、视频数、播放量）
- ✅ 视频列表展示（标题、播放量、评论数、收藏数）
- ✅ 视频发布趋势可视化（堆叠面积图、热力图）
- ✅ 月度播放量统计对比
- ✅ 自然周数据维度（周一到周日）
- ✅ 自动刷新机制（5分钟）
- ✅ 响应式布局设计
- ✅ 配色优化（提高颜色区分度）

**数据更新**：
- 自动更新：每6小时执行一次
- 手动刷新：前端自动刷新（5分钟）
- API缓存机制（10分钟）

**优先级**: P0（核心功能）

---

#### F3: 管理平台 ⭐⭐⭐⭐

**功能描述**：
提供完整的管理平台，方便管理员管理论文、视频和用户数据。

**功能点**：
- ✅ 用户管理（查看、编辑、删除用户）
- ✅ 论文管理（查看、编辑、删除论文，搜索筛选）
- ✅ 视频管理（查看UP主和视频信息，搜索筛选）
- ✅ 日志监控（登录日志、访问日志）
- ✅ 统计仪表盘（数据概览、图表展示）
- ✅ 权限控制（管理员权限验证）

**管理功能**：
- 论文管理：支持按类别、日期、引用数筛选
- 视频管理：支持按UP主、日期、播放量筛选
- 用户管理：支持按角色、状态筛选

**优先级**: P1（重要功能）

---

#### F4: 用户认证系统 ⭐⭐⭐⭐

**功能描述**：
提供用户登录、注册和个人中心功能。

**功能点**：
- ✅ 飞书OAuth登录（扫码登录）
- ✅ 管理员登录（用户名密码）
- ✅ 个人中心（个人信息、登录历史、访问记录）
- ✅ JWT Token认证
- ✅ 权限控制（普通用户、管理员、超级管理员）

**优先级**: P1（重要功能）

---

### 3.2 辅助功能

#### F5: 自动定时更新 ⭐⭐⭐⭐

**功能描述**：
支持配置定时任务，自动抓取最新论文、新闻和B站数据。

**功能点**：
- ✅ 基于APScheduler的定时任务
- ✅ Cron表达式配置（支持多个时间点）
- ✅ 环境变量控制
- ✅ 日志记录
- ✅ 错误处理和重试
- ✅ 支持开发环境和生产环境自动启动

**定时任务列表**：
1. **论文抓取**：每小时整点执行
2. **新闻抓取**：每小时整点执行
3. **招聘信息抓取**：每小时整点执行
4. **B站数据更新**：每6小时执行一次
5. **Semantic Scholar数据更新**：每天凌晨3点执行

**优先级**: P1（重要功能）

---

#### F6: 数据刷新 ⭐⭐⭐⭐

**功能描述**：
用户可以手动刷新论文、新闻和招聘数据。

**功能点**：
- ✅ "刷新论文数据"按钮（仅刷新论文）
- ✅ "刷新全局数据"按钮（统一刷新论文、新闻、招聘）
- ✅ 实时进度显示
- ✅ 状态轮询机制
- ✅ 页面刷新后自动恢复进度条

**优先级**: P1（重要功能）

---

#### F7: 具身24h新闻 ⭐⭐⭐

**功能描述**：
实时抓取和展示具身智能领域的最新新闻。

**功能点**：
- ✅ 多源新闻抓取（RSS、NewsAPI.org）
- ✅ 24小时内新闻过滤
- ✅ 智能关键词匹配
- ✅ 自动滚动展示
- ✅ 每小时自动更新

**优先级**: P2（辅助功能）

---

### 3.3 功能优先级

| 优先级 | 功能 | 状态 | 版本 |
|-------|------|------|------|
| P0 | 具身论文页面 | ✅ 已实现 | v1.0 |
| P0 | 具身视频Hub页面 | ✅ 已实现 | v1.0 |
| P1 | 管理平台 | ✅ 已实现 | v1.0 |
| P1 | 用户认证系统 | ✅ 已实现 | v1.0 |
| P1 | 自动定时更新 | ✅ 已实现 | v1.0 |
| P1 | 数据刷新 | ✅ 已实现 | v1.0 |
| P2 | 具身24h新闻 | ✅ 已实现 | v1.0 |

---

## 4. 非功能需求

### 4.1 性能需求

**响应时间**：
- API响应时间 < 500ms（90%的请求）
- 页面首次加载 < 2秒
- 搜索响应时间 < 100ms

**并发能力**：
- 支持至少50个并发用户
- 数据库连接池管理（pool_size=10, max_overflow=20）

**数据量**：
- 支持存储10万+ 论文记录
- 支持存储1万+ 视频记录
- 单次查询可处理5000+ 条记录

### 4.2 可用性需求

**系统可用性**：
- 目标可用性：99%+
- 计划内维护时间：每月 < 4小时

**容错能力**：
- 抓取失败自动重试（3次，指数退避）
- API异常时优雅降级
- 数据库异常时回退到JSON

### 4.3 可维护性需求

**代码质量**：
- 模块化设计
- 代码注释覆盖率 > 50%
- 遵循PEP 8规范（Python）

**文档完整性**：
- 完整的产品文档（PRD）
- 完整的技术文档（SPEC）
- 用户使用指南
- API接口文档

### 4.4 兼容性需求

**浏览器支持**：
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

**设备支持**：
- 桌面端（主要）
- 平板电脑（兼容）
- 移动端（基本兼容，响应式设计）

### 4.5 安全性需求

**数据安全**：
- 数据库定期备份
- JSON文件作为备份
- 防止SQL注入（SQLAlchemy ORM）

**访问控制**：
- JWT Token认证
- 管理员权限验证
- API接口权限控制

---

## 5. 用户界面

### 5.1 页面结构

#### 5.1.1 具身论文页面

```
┌─────────────────────────────────────────┐
│          顶部导航栏（全屏宽度）            │
│  - Logo + 导航链接                       │
│  - 登录/个人中心按钮                      │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│        Banner（品牌展示）                 │
│  - 标题 + 副标题                          │
│  - 刷新论文数据按钮                      │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│       统计信息（数据卡片）                │
│  总数 + 各类别数量                        │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│         论文清单（主要内容区）              │
│  - 搜索框 + 类别筛选                      │
│  - 标签页（33个类别）                     │
│  - 论文列表（卡片式）                     │
└─────────────────────────────────────────┘
```

#### 5.1.2 具身视频Hub页面

```
┌─────────────────────────────────────────┐
│          顶部导航栏（全屏宽度）            │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│       页面标题（Banner）                  │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│   主内容区（左侧）    │   侧边栏（右侧）   │
│  - 视频发布趋势       │  - 热门UP主       │
│  - 月度播放量统计     │  - 最新视频       │
│  - 公司卡片模块       │  - 统计数据       │
└─────────────────────────────────────────┘
```

#### 5.1.3 管理平台

```
┌─────────────────────────────────────────┐
│   侧边栏（左侧）    │   主内容区（右侧）   │
│  - 仪表盘           │  - 统计卡片         │
│  - 用户管理         │  - 图表展示         │
│  - 论文管理         │  - 数据列表         │
│  - 视频管理         │  - 操作按钮         │
│  - 日志监控         │                    │
└─────────────────────────────────────────┘
```

### 5.2 设计原则

**视觉设计**：
- 现代化、简洁、专业
- 配色：紫蓝色系（科技感）
- 卡片式布局（层次分明）
- 渐变和阴影（立体感）

**交互设计**：
- 响应式设计（适配不同屏幕）
- 平滑过渡动画
- 清晰的视觉反馈
- 操作可逆

**信息架构**：
- 从整体到细节（统计 → 分类 → 详情）
- 多种浏览方式（分类、搜索）
- 重要信息优先展示

---

## 6. 数据需求

### 6.1 数据模型

**论文数据结构**：
```python
Paper {
    id: String (主键, ArXiv ID)
    title: Text (论文标题)
    authors: Text (作者列表)
    publish_date: Date (发布日期)
    pdf_url: Text (PDF链接)
    code_url: Text (代码链接, 可选)
    abstract: Text (摘要, 可选)
    category: String (类别)
    citation_count: Integer (引用数, 可选)
    venue: String (发表场所, 可选)
    affiliations: Text (机构, 可选)
    created_at: DateTime (创建时间)
    updated_at: DateTime (更新时间)
}
```

**B站UP主数据结构**：
```python
BilibiliUp {
    uid: Integer (主键, UP主UID)
    name: String (UP主名称)
    face: Text (头像URL)
    sign: Text (签名)
    level: Integer (等级)
    fans: Integer (粉丝数)
    friend: Integer (关注数)
    videos: Integer (视频数)
    likes: Integer (获赞数)
    views: Integer (播放数)
    last_update: DateTime (最后更新时间)
}
```

**B站视频数据结构**：
```python
BilibiliVideo {
    bvid: String (主键, 视频BV号)
    aid: Integer (视频AID)
    uid: Integer (UP主UID, 外键)
    title: Text (视频标题)
    pic: Text (封面URL)
    play: Integer (播放量)
    video_review: Integer (评论数)
    favorites: Integer (收藏数)
    pubdate: DateTime (发布时间)
    description: Text (视频描述)
    length: String (视频时长)
    created_at: DateTime (创建时间)
    updated_at: DateTime (更新时间)
}
```

### 6.2 数据来源

**主要数据源**：
- ArXiv API（论文数据）
- Bilibili API（视频数据）
- Semantic Scholar API（论文补充数据）
- RSS源（新闻数据）
- GitHub API（招聘信息）

### 6.3 数据存储

**数据库**：
- ✅ **PostgreSQL**（生产环境）
  - 论文数据库（papers）
  - B站数据库（bilibili）
  - 招聘信息数据库（jobs）
  - 新闻数据库（news）
  - 数据集数据库（datasets）
  - 用户数据库（users）
- 支持连接池（pool_size=10, max_overflow=20）
- 自动重连机制（pool_pre_ping=True）
- 向后兼容SQLite（通过环境变量切换）

**备份**：
- JSON文件（实时备份）
- PostgreSQL数据库定期备份
- Docker数据卷持久化

---

## 7. 技术架构

### 7.1 技术栈

**后端**：
- Flask（Web框架）
- SQLAlchemy（ORM）
- APScheduler（定时任务）
- PostgreSQL（数据库）
- JWT（认证）

**前端**：
- HTML5 + CSS3 + JavaScript（原生）
- Chart.js（数据可视化）
- Font Awesome（图标库）

**部署**：
- Docker + Docker Compose
- Gunicorn（WSGI服务器）
- Nginx（反向代理，可选）

### 7.2 系统架构

```
┌─────────────────────────────────────────┐
│           客户端层（浏览器）              │
└─────────────────────────────────────────┘
                    ↓ HTTP/HTTPS
┌─────────────────────────────────────────┐
│        应用层（Flask Web应用）            │
│  - 路由处理                              │
│  - 业务逻辑                              │
│  - API接口                               │
│  - 后台任务（APScheduler）               │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│        数据层（PostgreSQL数据库）         │
│  - 论文数据                              │
│  - 视频数据                              │
│  - 用户数据                              │
└─────────────────────────────────────────┘
                    ↑
┌─────────────────────────────────────────┐
│        外部服务（API）                    │
│  - ArXiv API                             │
│  - Bilibili API                          │
│  - Semantic Scholar API                  │
└─────────────────────────────────────────┘
```

---

## 8. 部署需求

### 8.1 服务器要求

**最低配置**：
- CPU: 2核
- 内存: 4GB
- 存储: 50GB
- 网络: 10Mbps

**推荐配置**：
- CPU: 4核
- 内存: 8GB
- 存储: 100GB
- 网络: 100Mbps

### 8.2 环境要求

**操作系统**：
- Linux（Ubuntu 20.04+ 推荐）
- macOS（开发环境）
- Windows（不推荐生产环境）

**软件依赖**：
- Python 3.9+
- PostgreSQL 12+
- Docker 20.10+（可选）
- Nginx 1.18+（可选）

### 8.3 部署方式

**方式1: Docker部署（推荐）**
- 使用Docker Compose一键部署
- 包含PostgreSQL、Flask应用
- 数据持久化到Docker卷

**方式2: 直接部署**
- 手动安装依赖
- 配置PostgreSQL数据库
- 使用Gunicorn启动应用

---

## 9. 版本规划

### 9.1 当前版本（v1.0）

**发布日期**: 2025-12-17

**主要功能**：
- ✅ 具身论文页面（完整功能）
- ✅ 具身视频Hub页面（完整功能）
- ✅ 管理平台（完整功能）
- ✅ 用户认证系统（完整功能）
- ✅ 自动定时更新（完整功能）

### 9.2 未来规划

**v1.1（计划中）**：
- 论文收藏功能
- 用户个性化推荐
- 数据导出功能

**v1.2（计划中）**：
- 移动端APP
- 邮件订阅功能
- 社交分享功能

---

## 10. 验收标准

### 10.1 功能验收

- ✅ 所有P0功能正常工作
- ✅ 所有P1功能正常工作
- ✅ 所有P2功能正常工作
- ✅ 管理平台功能完整
- ✅ 用户认证系统正常

### 10.2 性能验收

- ✅ API响应时间 < 500ms
- ✅ 页面加载时间 < 2秒
- ✅ 支持50+并发用户
- ✅ 数据库查询优化

### 10.3 安全验收

- ✅ JWT Token认证正常
- ✅ 权限控制正常
- ✅ SQL注入防护
- ✅ 数据备份正常

---

## 11. 相关文档

- [技术规格文档](../03-技术文档/SPEC_技术规格文档_20251219_v2.0.md)
- [发版记录](../05-开发记录/发版记录_CHANGELOG.md)
- [用户使用指南](../10-使用说明/)
- [API接口文档](../03-技术文档/)

---

**最后更新**：2025-12-19  
**维护者**：产品团队  
**版本**：v2.0

---

## 12. 生产环境信息

### 12.1 访问地址

**用户端**：
- 具身论文页面：https://essay.gradmotion.com/
- 具身视频Hub：https://essay.gradmotion.com/bilibili
- 登录页面：https://login.gradmotion.com/login

**管理端**：
- 管理后台：https://admin123.gradmotion.com/admin/
- 仪表盘：https://admin123.gradmotion.com/admin/dashboard
- 用户管理：https://admin123.gradmotion.com/admin/users
- 论文管理：https://admin123.gradmotion.com/admin/papers
- 视频管理：https://admin123.gradmotion.com/admin/bilibili
- 日志监控：https://admin123.gradmotion.com/admin/logs

### 12.2 服务器信息

**服务器路径**：`/srv/EmbodiedPulse2026`  
**服务名称**：`embodiedpulse`  
**服务端口**：`5001`  
**数据库**：PostgreSQL 15+

### 12.3 核心功能状态

**已上线功能**：
- ✅ 具身论文页面（33个分类，14,000+论文）
- ✅ 具身视频Hub（12个UP主，500+视频）
- ✅ 管理平台（用户、论文、视频、日志管理）
- ✅ 用户认证系统（飞书OAuth + 管理员登录）
- ✅ 自动定时更新（论文、新闻、招聘、B站数据）
- ✅ 研究方向活跃度可视化
- ✅ 活跃作者排行榜
- ✅ 视频发布趋势分析
- ✅ 播放量数据对比
- ✅ 管理后台手动更新功能

### 12.4 数据统计（截至2025-12-19）

- **论文数据**：14,000+ 篇
- **视频数据**：500+ 个
- **UP主数据**：12 个
- **用户数据**：支持多用户管理
- **分类标签**：33 个精准分类
- **检索词**：350+ 个

