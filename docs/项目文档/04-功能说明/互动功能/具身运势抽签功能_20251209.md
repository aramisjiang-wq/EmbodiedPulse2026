# 具身运势抽签功能

## 功能概述

具身运势抽签是一个互动性强的每日抽签挂件，旨在培养用户的每日访问习惯和仪式感。用户每天可以抽一次签，获得结合具身算法、机器人学习、AI研究等主题的运势祝福。

## 设计理念

### 目标
- **培养用户习惯**：通过每日抽签的仪式感，吸引用户每天打开网页
- **增强用户粘性**：通过互动性和趣味性，提高用户回访率
- **主题相关性**：结合具身算法人群特点，提供有针对性的祝福语

### 仪式感设计
- 每天只能抽一次签
- 使用日期作为随机种子，确保同一天抽到相同的签
- 显示抽签时间，增强仪式感
- 已抽签状态明确显示

## 功能特点

### 1. 词条库
- **数量**：1000条不同的运势祝福词条
- **主题分类**：
  - 算法与模型类（200条）
  - 机器人控制类（200条）
  - 具身智能类（200条）
  - 研究突破类（150条）
  - 学习成长类（150条）
  - 工作与协作类（100条）
  - 灵感与创意类（100条）
- **特点**：结合具身算法、强化学习、机器人控制、视觉感知等专业术语

### 2. 互动设计
- **签筒摇动动画**：点击抽签后，签筒会摇动1.5秒
- **抽签按钮**：金色渐变按钮，有hover和点击效果
- **结果展示**：结果以卡片形式淡入显示
- **状态管理**：已抽签状态会保存到localStorage

### 3. 视觉设计
- **金色渐变背景**：从#fef3c7到#fcd34d的渐变，营造温暖氛围
- **签筒3D效果**：签筒有立体感，分为上中下三部分
- **摇动动画**：签筒摇动时有震动效果
- **结果卡片**：白色半透明背景，金色边框，清晰易读

## 技术实现

### 文件结构
```
fortune_messages.py          # Python词条库（1000条）
static/js/fortune_messages.js # JavaScript词条库
templates/index.html         # HTML结构
static/css/style.css         # 样式和动画
static/js/app.js            # 抽签逻辑
```

### 核心功能

#### 1. 词条生成
- 使用`fortune_messages.py`生成1000条词条
- 通过模板和随机组合生成变体词条
- 导出为JavaScript数组格式

#### 2. 抽签逻辑
```javascript
// 使用日期作为随机种子
const today = new Date();
const seed = today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
// 确保同一天抽到相同的签
```

#### 3. 状态管理
- 使用localStorage保存抽签结果
- 保存日期、词条内容、抽签时间
- 页面刷新后自动恢复已抽签状态

#### 4. 动画效果
- CSS keyframes实现摇动动画
- JavaScript控制动画时序
- 淡入淡出效果

## 使用说明

### 用户操作流程
1. 打开网页，看到「具身运势签」挂件
2. 点击「抽签」按钮
3. 签筒开始摇动（1.5秒）
4. 显示运势祝福词条
5. 按钮变为「今日已抽签」状态

### 开发者说明
- 词条库位置：`fortune_messages.py`
- 如需添加新词条，修改`FORTUNE_MESSAGES`数组
- 重新生成JavaScript文件：运行`python3 fortune_messages.py`
- 样式调整：修改`static/css/style.css`中的`.fortune-widget`相关样式

## 未来优化方向

1. **社交分享**：允许用户分享抽签结果
2. **历史记录**：查看历史抽签记录
3. **个性化**：根据用户研究领域推荐相关词条
4. **动画优化**：更丰富的动画效果
5. **音效**：添加摇签音效增强体验

## 设计亮点

1. **仪式感强**：金色主题、摇动动画、每日限制
2. **主题相关**：词条紧密结合具身算法领域
3. **互动性强**：动画、按钮反馈、结果展示
4. **用户习惯**：通过每日抽签培养访问习惯
5. **视觉吸引**：金色渐变、3D效果、动画流畅

## 技术细节

### CSS动画
- `@keyframes shake`：签筒摇动动画
- `@keyframes fadeInUp`：结果淡入动画
- `@keyframes bounce`：图标弹跳动画
- `@keyframes rotate`：阴阳图标旋转动画

### JavaScript功能
- `initFortuneWidget()`：初始化挂件
- `checkTodayFortune()`：检查今日是否已抽签
- `drawFortune()`：执行抽签逻辑
- `getRandomFortune()`：获取随机词条
- `showFortuneResult()`：显示抽签结果

### 数据存储
- localStorage键：
  - `fortuneDate`：抽签日期
  - `fortuneMessage`：抽签词条
  - `fortuneTimestamp`：抽签时间

