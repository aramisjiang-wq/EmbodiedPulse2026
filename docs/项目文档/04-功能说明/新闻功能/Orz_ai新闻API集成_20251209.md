# Orz.ai 新闻API集成说明

**文档创建时间**: 2025-12-09  
**最后更新时间**: 2025-12-09  
**API文档**: https://github.com/orz-ai/hot_news

---

## 📋 API概述

**Orz.ai 每日热点新闻API** 提供来自多个平台的实时热点新闻数据。

### 主要特点

- ✅ **完全免费**：无需API Key
- ✅ **多平台支持**：22个平台的热点新闻
- ✅ **实时更新**：数据每半小时自动刷新
- ✅ **无速率限制**：可以频繁请求
- ✅ **简单易用**：RESTful API，参数简单

---

## 🔑 API配置

### 基础URL
```
https://orz.ai/api/v1/dailynews
```

### 请求方式
```
GET https://orz.ai/api/v1/dailynews/?platform=github
```

### 支持的平台

**技术相关平台**（优先使用）：
- `github` - 开源项目、编程语言
- `hackernews` - 科技新闻、创业、编程
- `tskr` - 36氪，科技创业、商业资讯
- `juejin` - 掘金，编程、技术文章
- `stackoverflow` - 编程问答、技术讨论
- `vtex` - V2EX，技术、编程、创意

**综合平台**：
- `zhihu` - 知乎，问答、深度内容
- `weibo` - 微博，社交媒体热点
- `baidu` - 百度热搜
- `jinritoutiao` - 今日头条

---

## 🎯 实现策略

### 1. 平台选择

优先从技术相关平台获取新闻：
- GitHub Trending
- Hacker News
- 36氪
- 掘金
- Stack Overflow
- V2EX

### 2. 关键词过滤

由于这是热点新闻API（不是搜索API），我们需要：
- 获取所有热点新闻
- 在客户端过滤，只保留包含机器人具身智能相关关键词的新闻

**关键词列表**：
- 中文：机器人、具身智能、机器人学习、人形机器人等
- 英文：robot, robotics, embodied AI, humanoid robot等

### 3. 数据格式适配

Orz.ai API返回格式：
```json
{
  "status": "200",
  "data": [
    {
      "title": "新闻标题",
      "url": "新闻URL",
      "score": "热度分数",
      "desc": "描述"
    }
  ],
  "msg": "success"
}
```

适配到我们的数据库模型：
- `title` → `title`
- `desc` → `description`, `body`
- `url` → `url`
- `platform` → `source_name`
- `published_at` → 使用当前时间（热点新闻不提供发布时间）

---

## 🔧 代码实现

### 客户端文件
- `orz_news_client.py` - Orz.ai API客户端

### 主要函数

1. **`fetch_news_from_platform(platform)`**
   - 从指定平台获取热点新闻
   - 自动过滤机器人具身智能相关内容

2. **`fetch_all_robotics_news(platforms)`**
   - 从多个平台获取新闻
   - 自动去重（基于URL）

3. **`contains_robotics_keyword(text)`**
   - 检查文本是否包含相关关键词

---

## 📊 使用示例

### 命令行使用

```bash
# 使用Orz.ai API（推荐，默认）
python3 fetch_robotics_news.py --yes --api orz

# 或设置环境变量
export NEWS_API_TYPE=orz
python3 fetch_robotics_news.py --yes
```

### Python代码使用

```python
from orz_news_client import fetch_all_robotics_news

# 获取所有相关新闻
articles = fetch_all_robotics_news()

# 只从特定平台获取
articles = fetch_all_robotics_news(platforms=["github", "hackernews"])
```

---

## ⚙️ 优势对比

| 特性 | Orz.ai | NewsAPI.org | APITube |
|------|--------|-------------|---------|
| **免费额度** | 无限制 | 500次/天 | 未知 |
| **API Key** | 不需要 | 需要 | 需要 |
| **数据源** | 22个平台热点 | 70,000+新闻源 | 50万+新闻源 |
| **更新频率** | 每半小时 | 实时 | 实时 |
| **关键词搜索** | ❌（需客户端过滤） | ✅ | ✅ |
| **推荐度** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## ⚠️ 注意事项

1. **关键词过滤**
   - 由于是热点新闻API，不是搜索API
   - 需要客户端过滤，可能过滤后新闻数量较少
   - 建议定期运行，积累新闻数据

2. **发布时间**
   - 热点新闻API不提供具体发布时间
   - 使用当前时间作为 `published_at`

3. **数据质量**
   - 热点新闻可能包含一些不相关内容
   - 关键词过滤可能不够精确
   - 建议结合其他API使用

---

## 🔄 与其他API的切换

系统支持多API切换：

```bash
# 使用Orz.ai（推荐）
python3 fetch_robotics_news.py --api orz

# 使用NewsAPI.org
python3 fetch_robotics_news.py --api newsapi

# 使用APITube
python3 fetch_robotics_news.py --api apitube
```

---

## 📚 参考资源

- [Orz.ai GitHub仓库](https://github.com/orz-ai/hot_news)
- [API在线文档](https://orz.ai/api/v1/dailynews)
- [热点速览网站](https://news.orz.ai)

---

**操作时间**: 2025-12-09  
**操作人员**: AI Assistant

