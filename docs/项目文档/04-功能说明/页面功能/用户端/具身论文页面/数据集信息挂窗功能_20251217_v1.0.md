# 数据集信息挂窗功能说明

**创建日期**: 2025-12-09  
**功能状态**: ✅ 已实现

---

## 📋 功能概述

在论文清单右侧添加数据集信息挂窗，展示具身智能相关数据集信息。数据集信息来源于掘金文章《最全具身智能数据集分享系列》。

---

## 🎯 功能特点

1. **独立数据库**：使用 `datasets.db` 独立存储，不与论文数据库混在一起
2. **挂窗展示**：位于滚动招聘下方，样式统一
3. **滚动显示**：支持滚动查看，每次显示20条
4. **点击跳转**：点击数据集可跳转到原始链接
5. **分类标签**：支持类别和标签显示

---

## 📁 文件结构

```
datasets_models.py          # 数据集数据库模型
save_datasets_to_db.py      # 数据保存模块
juejin_datasets_parser.py   # 文章解析框架（基础）
manual_datasets_data.py     # 手动整理数据脚本
```

---

## 🔧 实现方案

### 数据获取方案

由于掘金文章是动态加载（JavaScript渲染），直接抓取HTML无法获取完整内容。提供以下方案：

#### 方案1：手动整理（推荐）⭐

**步骤**：
1. 打开文章：https://juejin.cn/post/7475651131450327040
2. 阅读文章，整理数据集信息
3. 编辑 `manual_datasets_data.py`，将数据集信息添加到 `datasets` 列表
4. 运行脚本保存：
   ```bash
   python3 manual_datasets_data.py
   ```

**数据格式**：
```python
{
    'name': '数据集名称',
    'description': '数据集描述',
    'category': '视觉/语言/多模态/操作/导航等',
    'link': '数据集链接',
    'paper_link': '相关论文链接（可选）',
    'source': 'juejin',
    'source_url': 'https://juejin.cn/post/7475651131450327040',
    'tags': ['标签1', '标签2']
}
```

#### 方案2：使用Selenium（自动化）

使用Selenium模拟浏览器获取完整内容：

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

driver = webdriver.Chrome()
driver.get('https://juejin.cn/post/7475651131450327040')
# 等待内容加载
# 解析数据集信息
```

#### 方案3：浏览器开发者工具

1. 打开文章页面
2. 按F12打开开发者工具
3. 查看完整HTML或Network请求
4. 提取数据集信息
5. 整理到 `manual_datasets_data.py`

---

## 📊 数据库结构

### Dataset 模型

| 字段 | 类型 | 说明 |
|------|------|------|
| id | Integer | 主键 |
| name | Text | 数据集名称 |
| description | Text | 数据集描述 |
| category | String | 数据集类别 |
| link | String | 数据集链接 |
| paper_link | String | 相关论文链接 |
| source | String | 数据来源 |
| source_url | String | 来源URL |
| tags | Text | 标签（JSON字符串） |
| created_at | DateTime | 创建时间 |
| updated_at | DateTime | 更新时间 |

---

## 🔌 API接口

### GET /api/datasets

获取数据集信息列表

**查询参数**：
- `limit`: 返回数量（默认20）
- `offset`: 偏移量（默认0）
- `category`: 类别筛选（可选）

**响应示例**：
```json
{
    "success": true,
    "datasets": [
        {
            "id": 1,
            "name": "数据集名称",
            "description": "数据集描述",
            "category": "视觉",
            "link": "https://example.com/dataset",
            "tags": ["视觉", "机器人"]
        }
    ],
    "total": 10,
    "limit": 20,
    "offset": 0
}
```

---

## 🎨 前端展示

### 挂窗位置
- 位于滚动招聘下方
- 右侧固定位置
- 支持滚动查看

### 显示内容
- 数据集名称
- 数据集描述（2行，超出省略）
- 类别标签
- 标签列表
- 访问链接

### 样式特点
- 绿色主题（#10b981）
- 卡片式设计
- 悬停效果
- 响应式布局

---

## 📝 使用步骤

### 1. 初始化数据库

```bash
python3 -c "from datasets_models import init_datasets_db; init_datasets_db()"
```

### 2. 整理数据集信息

编辑 `manual_datasets_data.py`，添加数据集信息：

```python
datasets = [
    {
        'name': 'COCO',
        'description': '大规模目标检测和分割数据集',
        'category': '视觉',
        'link': 'https://cocodataset.org/',
        'tags': ['视觉', '检测', '分割']
    },
    # 添加更多数据集...
]
```

### 3. 保存数据

```bash
python3 manual_datasets_data.py
```

### 4. 重启服务器

```bash
# 重启Flask服务器以加载新的API路由
python3 app.py
```

### 5. 查看效果

刷新网页，在右侧挂窗区域查看数据集信息。

---

## 🔍 数据整理建议

### 数据集分类

建议按以下类别分类：
- **视觉**：图像、视频相关数据集
- **语言**：文本、对话相关数据集
- **多模态**：视觉+语言组合数据集
- **操作**：机器人操作、抓取相关数据集
- **导航**：移动、导航相关数据集
- **综合**：其他类型数据集

### 标签建议

常用标签：
- 视觉、语言、多模态
- 操作、导航、抓取
- 仿真、真实、混合
- 机器人、具身智能

---

## ⚠️ 注意事项

1. **数据来源**：数据集信息来源于掘金文章，需要手动整理
2. **数据准确性**：建议验证数据集链接的有效性
3. **定期更新**：数据集信息可能需要定期更新
4. **去重机制**：基于名称+链接自动去重

---

## 🚀 未来优化

- [ ] 自动抓取文章内容（使用Selenium）
- [ ] 数据集链接有效性验证
- [ ] 数据集使用统计
- [ ] 数据集推荐功能
- [ ] 数据集详情页面

---

**最后更新**: 2025-12-09


