# 论文重新分类任务清单

## 目标
根据新的论文标签体系，重新分类数据库中的所有论文，清除所有旧标签。

## 任务清单

### 阶段1：准备新标签体系 ✅
- [x] 创建标签体系与检索词映射表文档
- [ ] 更新 `taxonomy.py` - 重构标签定义以匹配新体系
- [ ] 更新 `normalize_category()` 函数 - 支持新标签规范化
- [ ] 创建标签检索词映射字典 - 用于API检索

### 阶段2：创建重新分类脚本
- [ ] 创建 `scripts/reclassify_all_papers.py` - 批量重新分类脚本
  - [ ] 读取所有论文
  - [ ] 根据标题和摘要智能分类（使用关键词匹配）
  - [ ] 清除所有旧标签
  - [ ] 批量更新数据库
  - [ ] 生成分类报告

### 阶段3：更新数据获取逻辑
- [ ] 更新 `daily_arxiv.py` - 使用新检索词获取论文
- [ ] 更新 `config.yaml` - 更新关键词配置
- [ ] 测试ArXiv API检索 - 验证检索词有效性

### 阶段4：数据库迁移
- [ ] 备份现有数据库
- [ ] 运行重新分类脚本（先dry-run测试）
- [ ] 验证分类结果
- [ ] 正式执行分类更新
- [ ] 检查数据完整性

### 阶段5：前端更新
- [ ] 更新前端标签显示逻辑
- [ ] 测试标签筛选功能
- [ ] 验证双语显示

### 阶段6：测试与验证
- [ ] 测试新标签体系下的论文检索
- [ ] 测试分类准确性
- [ ] 验证前端显示
- [ ] 性能测试

## 新标签体系结构

### 扁平化标签（简化版）
基于图片内容，新标签体系采用扁平化结构，共6大类，约30个具体标签：

1. **感知与理解**（16个标签）
2. **决策**（2个标签）
3. **运动控制**（6个标签）
4. **操作与交互**（5个标签）
5. **学习与算法**（3个标签）
6. **基准**（1个标签）

### 标签存储格式
- 格式：`分类/标签英文术语`
- 示例：`Perception/2D Perception`, `Motion Control/Locomotion Control`

## 注意事项

1. **清除旧标签**：所有现有的三层标签（Layer/Sub/Leaf格式）都需要清除
2. **多标签支持**：一篇论文可能属于多个标签（需要评估是否支持）
3. **分类准确性**：需要建立关键词匹配规则，确保分类准确
4. **数据备份**：执行前必须备份数据库
5. **渐进式更新**：建议先在小范围测试，再全量更新

## 执行计划

### 第一步：更新代码（当前阶段）
- 更新 `taxonomy.py`
- 创建重新分类脚本

### 第二步：测试验证
- 在小样本上测试分类逻辑
- 验证标签显示

### 第三步：全量更新
- 备份数据库
- 执行重新分类
- 验证结果

## 风险评估

1. **数据丢失风险**：低（有备份）
2. **分类错误风险**：中（需要关键词匹配规则）
3. **前端兼容性风险**：低（标签显示逻辑相对独立）
4. **性能影响**：低（批量更新可分批执行）

## 预计时间

- 代码更新：2-3小时
- 测试验证：1-2小时
- 全量更新：1-2小时（取决于论文数量）
- **总计**：4-7小时
