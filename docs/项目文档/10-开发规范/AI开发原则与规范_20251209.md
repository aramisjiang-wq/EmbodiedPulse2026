# AI开发原则与规范

本文档记录了在Embodied Pulse项目开发过程中，为AI助手制定的开发原则和规范，确保开发过程的一致性、可维护性和高质量。

## 📁 文档管理原则

### 1. 文档分类整理（按产品开发顺序编号）

**重要**：所有子文件夹已按产品开发顺序编号（01-11），方便高效存储和查找。

#### 一级分类（按产品开发顺序）
- **01-需求文档/** - 需求分析阶段：产品需求文档（PRD）、功能需求分析
- **02-产品文档/** - 产品设计阶段：产品介绍、设计理念、开发过程分享
- **03-技术文档/** - 技术设计阶段：技术架构、数据库设计、部署方案
- **04-功能说明/** - 功能开发阶段：功能详细说明（按模块分类）
  - `论文抓取/` - 论文抓取相关功能
  - `Semantic_Scholar/` - Semantic Scholar API集成
  - `招聘信息/` - 招聘信息抓取
  - `新闻功能/` - 新闻抓取和展示
  - `数据集信息/` - 数据集信息展示
  - `互动功能/` - 抽签功能等互动功能
  - `导航栏/` - 导航栏功能
  - `API集成/` - API集成分析
  - `需求分析/` - 功能需求分析
- **05-开发记录/** - 开发过程阶段：开发过程记录、复盘、建议
- **06-优化记录/** - 优化迭代阶段：UI/UX优化和性能优化记录
- **07-测试文档/** - 测试验证阶段：功能测试结果、检查报告
- **08-问题修复/** - 问题解决阶段：问题分析和修复记录
- **09-使用说明/** - 用户使用阶段：用户使用指南
- **10-开发规范/** - 规范制定阶段（贯穿整个开发过程）：开发原则、规范、最佳实践
- **11-沟通记录/** - 沟通交流阶段（贯穿整个开发过程）：开发沟通历程

### 2. 文档命名规范
- **格式**：`功能名称_日期.md` 或 `功能名称_日期_版本.md`
- **日期格式**：`YYYYMMDD`（如：20251209）
- **示例**：
  - `Tab栏设计方案_20251209.md`
  - `具身运势抽签功能_20251209.md`
  - `今日更新复盘_20251209.md`

### 3. 文档同步更新（AI默认操作）

**核心原则**：每次操作后，AI应自动更新所有相关文档，这是AI的默认操作习惯，无需用户提醒。

- **原则**：每次功能更新、UI优化、问题修复、文档操作都必须同步更新相关文档
- **更新时机**（AI自动完成）：
  - 新增功能 → 创建功能说明文档 + 更新发版记录 + 更新文档索引
  - 修改功能 → 更新功能说明文档 + 更新发版记录 + 更新文档索引
  - UI优化 → 更新优化记录文档 + 更新发版记录 + 更新文档索引
  - 修复问题 → 更新问题修复文档 + 更新发版记录 + 更新文档索引
  - 文档操作 → 更新所有相关文档索引 + 更新文档管理规范 + 更新开发记录
  - 每日结束 → 更新今日复盘文档（如需要）+ **必须更新发版记录**

#### AI自动更新文档清单（每次操作后必须更新）

1. **文档索引更新**（必须）：
   - `docs/项目文档/README.md` - 主文档索引
   - 主 `README.md` - 项目根目录索引（如需要）
   - `docs/项目文档/04-功能说明/README.md` - 功能说明索引（如涉及功能）

2. **规范文档更新**（必须）：
   - `docs/项目文档/10-开发规范/文档管理规范.md` - 文档管理规范
   - `docs/项目文档/10-开发规范/AI开发原则与规范_YYYYMMDD.md` - AI开发原则（如涉及规范变更）

3. **开发记录更新**（必须）：
   - `docs/项目文档/05-开发记录/发版记录_CHANGELOG.md` - 发版记录
   - `docs/项目文档/05-开发记录/文档归类整理说明_YYYYMMDD.md` - 文档整理说明（如涉及文档结构变更）

4. **相关功能文档更新**（如涉及）：
   - 如果涉及功能变更，更新对应的功能说明文档
   - 如果涉及问题修复，更新对应的问题修复文档
   - 如果涉及优化，更新对应的优化记录文档

**这是AI的默认操作习惯，无需用户提醒。**

### 4. 发版记录维护原则（CHANGELOG）
- **核心原则**：每个项目都必须维护发版记录文档，按天记录所有迭代更新
- **文档位置**：`docs/项目文档/开发记录/发版记录_CHANGELOG.md`
- **更新频率**：**每天必须更新**，记录当天的所有变更
- **更新时机**：
  - 每次功能新增、优化、修复后立即更新
  - 每天工作结束前必须检查并更新
  - 确保不遗漏任何变更
- **记录格式**：
  - 按日期倒序排列（最新日期在前）
  - 使用版本号：主版本号.次版本号.修订版本号（如：v1.2.0）
  - 分类清晰：✨ 功能新增、🎨 UI/UX优化、🔧 功能优化、🐛 问题修复、📚 文档更新、📊 数据统计
  - 包含详细内容：问题描述、修复方案、实施细节、结果验证
- **记录内容要求**：
  - **必须记录**：
    - 功能新增：功能描述、设计理念、技术实现、使用说明
    - 功能优化：优化内容、优化原因、优化效果
    - 问题修复：问题描述、问题诊断、修复方案、修复结果
    - UI优化：优化内容、视觉效果、用户体验提升
    - 文档更新：更新的文档列表、更新内容
    - 数据统计：相关数据变化、性能指标
  - **推荐记录**：
    - 代码文件变更清单
    - 测试结果和验证数据
    - 相关文档链接
    - 后续优化建议
- **版本号规则**：
  - **主版本号**：重大功能变更或架构调整（如：v1.0.0 → v2.0.0）
  - **次版本号**：新功能添加或重要优化（如：v1.1.0 → v1.2.0）
  - **修订版本号**：问题修复或小优化（如：v1.2.0 → v1.2.1）
- **维护检查清单**：
  - [ ] 今天的变更是否都已记录？
  - [ ] 版本号是否正确更新？
  - [ ] 分类是否正确？
  - [ ] 内容是否详细完整？
  - [ ] 日期格式是否正确？
  - [ ] 是否包含相关文档链接？

### 5. 文档内容要求
- **必须包含**：
  - 功能概述
  - 设计理念
  - 技术实现
  - 使用说明
  - 未来优化方向
- **推荐包含**：
  - 代码示例
  - 截图说明
  - 数据统计
  - 经验总结

## 💻 代码开发原则

### 1. 代码组织
- **模块化**：功能模块独立，便于维护和扩展
- **文件命名**：使用下划线命名法（snake_case）
  - Python文件：`fortune_messages.py`
  - JavaScript文件：`fortune_messages.js`
  - CSS类名：使用连字符（kebab-case）：`.fortune-widget`
- **目录结构**：
  ```
  project/
  ├── templates/        # HTML模板
  ├── static/
  │   ├── css/         # 样式文件
  │   ├── js/          # JavaScript文件
  │   └── images/      # 图片资源
  ├── docs/            # 文档
  └── *.py            # Python脚本
  ```

### 2. 代码质量
- **可读性**：代码要有清晰的注释，特别是复杂逻辑
- **可维护性**：避免重复代码，提取公共函数
- **可扩展性**：设计时考虑未来扩展需求
- **错误处理**：完善的错误处理和日志记录

### 3. 代码提交
- **提交前检查**：
  - 代码语法正确
  - 功能测试通过
  - 文档已更新
  - 无明显的性能问题

### 4. 代码注释
- **函数注释**：说明函数功能、参数、返回值
- **复杂逻辑**：解释算法思路和实现细节
- **TODO标记**：标记待完成的功能

## 🎨 UI/UX设计原则

### 1. 一致性原则
- **视觉一致性**：统一的颜色方案、字体、间距
- **交互一致性**：相同的操作有相同的反馈
- **布局一致性**：相似功能使用相似的布局

### 2. 用户体验原则
- **简洁性**：界面简洁，操作流程简单
- **反馈性**：每个操作都有明确的反馈
- **容错性**：友好的错误提示和处理
- **可访问性**：考虑不同用户的使用习惯

### 3. 响应式设计
- **移动端适配**：确保在移动设备上正常显示
- **断点设计**：合理设置响应式断点
- **性能优化**：优化移动端加载速度

### 4. 动画设计
- **适度原则**：动画要适度，不能过度
- **流畅性**：动画要流畅，不能卡顿
- **目的性**：每个动画都要有明确的目的

## 🔧 功能开发原则

### 1. 需求理解
- **明确需求**：充分理解用户需求，不清楚的地方要询问
- **需求分析**：分析需求的合理性和可行性
- **方案设计**：提供多种方案供用户选择

### 2. 实现方式
- **渐进式开发**：先实现核心功能，再逐步完善
- **快速迭代**：快速实现、快速测试、快速优化
- **向后兼容**：新功能不能破坏现有功能

### 3. 测试验证
- **功能测试**：确保功能正常工作
- **边界测试**：测试边界情况和异常情况
- **用户体验测试**：从用户角度测试体验

### 4. 性能考虑
- **加载速度**：优化资源加载速度
- **响应速度**：优化交互响应速度
- **资源占用**：合理使用资源，避免浪费

## 📊 数据管理原则

### 1. 数据去重
- **核心原则**：检查重复是底层原则，每次获取数据都要遵循
- **实现方式**：
  - ID去重（ArXiv ID）
  - 标题相似度去重
  - 组合去重策略

### 2. 数据存储
- **数据库选择**：根据数据特点选择合适的数据库
  - 论文数据：SQLite + SQLAlchemy
  - 新闻数据：独立的news.db
  - 招聘数据：独立的jobs.db
  - 数据集数据：独立的datasets.db
- **数据备份**：重要数据要有备份机制

### 3. 数据更新
- **增量更新**：优先使用增量更新，提高效率
- **定时更新**：设置合理的定时更新策略
- **手动更新**：提供手动更新功能

## 🚀 部署与运维原则

### 1. 环境配置
- **环境变量**：敏感信息使用环境变量
- **配置文件**：使用配置文件管理设置
- **文档说明**：提供详细的环境配置文档

### 2. 错误处理
- **日志记录**：完善的日志记录系统
- **错误提示**：友好的错误提示信息
- **错误恢复**：自动错误恢复机制

### 3. 监控与维护
- **性能监控**：监控系统性能
- **错误监控**：监控系统错误
- **定期维护**：定期检查和维护

## 🔄 迭代优化原则

### 1. 持续改进
- **用户反馈**：重视用户反馈，及时响应
- **数据分析**：通过数据分析发现问题
- **A/B测试**：通过A/B测试验证优化效果

### 2. 版本管理
- **版本号**：使用语义化版本号（主版本号.次版本号.修订版本号）
- **变更记录**：**必须**在发版记录（CHANGELOG）中记录每个版本的变更
- **版本更新时机**：
  - 重大功能变更或架构调整 → 主版本号+1
  - 新功能添加或重要优化 → 次版本号+1
  - 问题修复或小优化 → 修订版本号+1
- **回滚机制**：提供版本回滚机制

### 3. 技术债务
- **及时处理**：及时处理技术债务
- **优先级**：根据影响程度确定优先级
- **重构计划**：制定重构计划

## 📝 沟通协作原则

### 1. 需求沟通
- **明确表达**：需求要明确表达
- **及时反馈**：及时反馈问题和进展
- **方案讨论**：重要决策要讨论确认

### 2. 代码审查
- **代码审查**：重要代码要经过审查
- **意见反馈**：及时反馈审查意见
- **持续改进**：根据反馈持续改进

### 3. 知识分享
- **文档分享**：及时分享技术文档
- **经验总结**：总结开发经验
- **最佳实践**：分享最佳实践

## 🎯 产品设计原则

### 1. 用户中心
- **用户需求**：以用户需求为中心
- **用户体验**：重视用户体验
- **用户反馈**：积极收集和响应用户反馈

### 2. 主题相关性
- **领域特色**：功能设计要紧密结合目标领域
- **专业术语**：使用领域专业术语
- **场景适配**：功能要适配实际使用场景

### 3. 习惯培养
- **仪式感**：通过仪式感培养用户习惯
- **互动性**：通过互动性增强用户粘性
- **价值感**：让用户感受到产品价值

## 🔍 质量保证原则

### 1. 代码质量
- **代码规范**：遵循代码规范
- **代码审查**：重要代码要审查
- **单元测试**：关键功能要有单元测试

### 2. 功能质量
- **功能完整**：功能要完整实现
- **边界处理**：处理好边界情况
- **异常处理**：完善的异常处理

### 3. 文档质量
- **文档完整**：文档要完整
- **文档准确**：文档要准确
- **文档及时**：文档要及时更新

## 💡 创新与优化原则

### 1. 持续创新
- **新功能**：持续探索新功能
- **新技术**：关注新技术应用
- **新方法**：尝试新的实现方法

### 2. 性能优化
- **加载优化**：优化资源加载
- **渲染优化**：优化页面渲染
- **交互优化**：优化交互体验

### 3. 用户体验优化
- **流程优化**：优化用户操作流程
- **界面优化**：优化界面设计
- **反馈优化**：优化用户反馈

## 📋 检查清单

### 开发前检查清单
在每次开发前，检查以下清单：

- [ ] 需求是否明确理解？
- [ ] 是否有多种实现方案？
- [ ] 是否考虑了边界情况？
- [ ] 是否考虑了错误处理？
- [ ] 是否考虑了性能影响？
- [ ] 是否遵循了代码规范？
- [ ] 是否考虑了用户体验？
- [ ] 是否考虑了向后兼容？

### 开发后检查清单
在每次开发完成后，检查以下清单：

- [ ] 是否进行了功能测试？
- [ ] 是否更新了相关文档？
  - [ ] 功能说明文档（如需要）
  - [ ] 问题修复文档（如需要）
  - [ ] 优化记录文档（如需要）
  - [ ] **必须更新发版记录（CHANGELOG）**
- [ ] 是否更新了PRD文档（如涉及功能变更）？
- [ ] 是否更新了沟通记录文档（如需要）？
- [ ] 是否更新了README索引（如新增文档）？

### 每日结束检查清单
每天工作结束前，必须检查：

- [ ] 今天的所有变更是否都已记录到发版记录？
- [ ] 发版记录的版本号是否正确？
- [ ] 发版记录的分类是否准确？
- [ ] 发版记录的内容是否详细完整？
- [ ] 所有相关文档是否已同步更新？

## 🎓 经验总结

### 1. 开发流程
1. 理解需求 → 2. 设计方案 → 3. 实现功能 → 4. 测试验证 → 5. 更新文档（**包括发版记录**） → 6. 用户反馈 → 7. 持续优化

**重要提醒**：步骤5必须包括更新发版记录（CHANGELOG），这是强制要求！

### 2. 关键成功因素
- **快速响应**：快速响应用户需求
- **质量保证**：确保代码和功能质量
- **文档同步**：及时更新文档，**特别是发版记录**
- **用户反馈**：重视用户反馈
- **版本追踪**：通过发版记录追踪项目演进历史

### 3. 避免的陷阱
- 不要过度设计
- **不要忽略文档更新，特别是发版记录**
- 不要忽略错误处理
- 不要忽略用户体验
- 不要忘记更新版本号

## 📚 参考资源

- 项目文档目录：`docs/项目文档/`
- 发版记录文档：`docs/项目文档/开发记录/发版记录_CHANGELOG.md`（**必须维护**）
- 代码规范：参考项目现有代码风格
- 设计规范：参考项目现有设计风格

## 🎯 核心原则总结

### 必须遵守的原则（适用于所有项目）

1. **发版记录维护**：
   - ✅ 每个项目都必须创建和维护发版记录文档
   - ✅ 每天必须更新，记录当天的所有变更
   - ✅ 按日期倒序排列，分类清晰
   - ✅ 包含版本号、发布日期、变更类型、详细内容

2. **文档同步更新**：
   - ✅ 每次功能更新、UI优化、问题修复都必须同步更新相关文档
   - ✅ **必须同时更新发版记录**
   - ✅ 更新PRD文档（如涉及功能变更）
   - ✅ 更新沟通记录文档（如需要）

3. **版本管理**：
   - ✅ 使用语义化版本号
   - ✅ 每次重要更新都要更新版本号
   - ✅ 在发版记录中记录版本变更

4. **质量保证**：
   - ✅ 代码质量：遵循代码规范，完善错误处理
   - ✅ 功能质量：功能完整，边界处理完善
   - ✅ 文档质量：文档完整、准确、及时

### 新项目启动检查清单

当开始一个新项目时，必须：

- [ ] 创建项目文档目录结构
- [ ] **创建发版记录文档（CHANGELOG）**
- [ ] 创建PRD文档（如需要）
- [ ] 创建技术规格文档（如需要）
- [ ] 建立文档索引（README）
- [ ] 确定版本号初始值（通常从v1.0.0开始）

---

**最后更新**：2025年12月10日  
**维护者**：AI开发助手  
**版本**：v1.1

