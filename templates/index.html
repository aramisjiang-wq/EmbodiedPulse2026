<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Embodied AI ArXiv Daily - 具身领域前沿论文每日更新</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- 51LA 网站统计 -->
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js" onerror="console.warn('51.la统计脚本加载失败，已跳过')"></script>
    <script>
        // 延迟初始化，确保脚本加载完成
        if (typeof LA !== 'undefined') {
            LA.init({id:"3OKJnG7Jx3IolNJ3",ck:"3OKJnG7Jx3IolNJ3",autoTrack:true,hashMode:true});
        } else {
            // 如果脚本加载失败，等待一段时间后重试
            setTimeout(function() {
                if (typeof LA !== 'undefined') {
                    LA.init({id:"3OKJnG7Jx3IolNJ3",ck:"3OKJnG7Jx3IolNJ3",autoTrack:true,hashMode:true});
                }
            }, 1000);
        }
    </script>
</head>
<body>
    <div class="container">
        <!-- 主体内容区域 -->
        <div class="main-content-wrapper">
            <div class="main-content">
        <!-- 头部 Banner -->
        <header class="header">
            <div class="header-background"></div>
            <div class="header-wrapper">
                <div class="header-content">
                    <h1 class="header-main-title">Embodied Pulse</h1>
                    <p class="subtitle">具身领域前沿论文每日更新</p>
                    <p class="header-description">追踪具身智能、机器人学习、视觉语言动作模型等前沿研究</p>
                </div>
            </div>
        </header>

        <!-- 顶部导航栏 - Tab样式 -->
        <nav class="top-nav">
            <div class="nav-tabs">
                <a href="https://gradmotion.com/" target="_blank" class="nav-tab active">
                    <span>具身算法工具箱（GradMotion）</span>
                </a>
                <a href="https://paj5uamwttr.feishu.cn/wiki/GaozwfU3iiWA9Nk0LVUcUzKZnHc" target="_blank" class="nav-tab">
                    <span>具身知识库</span>
                </a>
                <a href="https://paj5uamwttr.feishu.cn/share/base/form/shrcnYlYb0NorOBVv2P8xRAArDe" target="_blank" class="nav-tab">
                    <span>需求反馈</span>
                </a>
            </div>
        </nav>

        <!-- 具身机器人研究方向结构 -->
        <!-- 合并模块：具身智能研究方向 + 论文数据统计 -->
        <section class="combined-research-stats">
            <div class="combined-header" id="dashboardHeader">
                <h2 class="dashboard-title-clickable">
                    <i class="fas fa-sitemap"></i> 具身论文数据仪表盘
                    <button class="dashboard-toggle-btn" id="dashboardToggleBtn" title="展开/收起">
                        <i class="fas fa-chevron-down" id="dashboardToggleIcon"></i>
                    </button>
                </h2>
                <div class="combined-header-actions">
                    <button id="fetchBtn" class="btn btn-success">
                        <i class="fas fa-download"></i> 抓取新论文
                    </button>
                </div>
            </div>
            
            <div class="combined-layout" id="dashboardContent">
                <!-- 左侧：研究方向 -->
                <div class="research-panel">
                <!-- 感知层 -->
                <div class="structure-category">
                    <div class="category-label">感知层</div>
                    <div class="category-cards">
                        <div class="structure-card perception">
                            <div class="structure-title-row">
                                <h3>Perception</h3>
                                <p class="structure-name">感知理解</p>
                            </div>
                            <div class="structure-keywords">
                                <span>视觉感知、场景理解</span>
                            </div>
                        </div>
                        
                        <div class="structure-card vlm">
                            <div class="structure-title-row">
                                <h3>VLM</h3>
                                <p class="structure-name">视觉语言模型</p>
                            </div>
                            <div class="structure-keywords">
                                <span>视觉理解、多模态学习</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 决策层 -->
                <div class="structure-category">
                    <div class="category-label">决策层</div>
                    <div class="category-cards">
                        <div class="structure-card planning">
                            <div class="structure-title-row">
                                <h3>Planning</h3>
                                <p class="structure-name">任务规划</p>
                            </div>
                            <div class="structure-keywords">
                                <span>路径规划、任务分解</span>
                            </div>
                        </div>
                        
                        <div class="structure-card learning">
                            <div class="structure-title-row">
                                <h3>RL/IL</h3>
                                <p class="structure-name">强化/模仿学习</p>
                            </div>
                            <div class="structure-keywords">
                                <span>强化学习、模仿学习</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 执行层 -->
                <div class="structure-category">
                    <div class="category-label">执行层</div>
                    <div class="category-cards">
                        <div class="structure-card manipulation">
                            <div class="structure-title-row">
                                <h3>Manipulation</h3>
                                <p class="structure-name">操作控制</p>
                            </div>
                            <div class="structure-keywords">
                                <span>机器人操作、抓取</span>
                            </div>
                        </div>
                        
                        <div class="structure-card locomotion">
                            <div class="structure-title-row">
                                <h3>Locomotion</h3>
                                <p class="structure-name">运动控制</p>
                            </div>
                            <div class="structure-keywords">
                                <span>移动、导航、步态规划</span>
                            </div>
                        </div>
                        
                        <div class="structure-card dexterous">
                            <div class="structure-title-row">
                                <h3>Dexterous</h3>
                                <p class="structure-name">灵巧操作</p>
                            </div>
                            <div class="structure-keywords">
                                <span>精细操作、触觉感知</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 集成层 -->
                <div class="structure-category">
                    <div class="category-label">集成层</div>
                    <div class="category-cards">
                        <div class="structure-card vla">
                            <div class="structure-title-row">
                                <h3>VLA</h3>
                                <p class="structure-name">视觉语言动作</p>
                            </div>
                            <div class="structure-keywords">
                                <span>端到端控制、指令跟随</span>
                            </div>
                        </div>
                        
                        <div class="structure-card humanoid">
                            <div class="structure-title-row">
                                <h3>Humanoid</h3>
                                <p class="structure-name">人形机器人</p>
                            </div>
                            <div class="structure-keywords">
                                <span>双足行走、全身协调</span>
                            </div>
                        </div>
                    </div>
                </div>
                </div>
                
                <!-- 右侧：论文数据统计 -->
                <div class="stats-panel">
                    <div class="stats-content">
                        <!-- 总论文数 -->
                        <div class="total-card">
                            <div class="total-label">总论文数</div>
                            <div class="total-value" id="totalPapersValue">-</div>
                        </div>
                        
                        <!-- 环形图 -->
                        <div class="chart-card">
                            <div class="chart-container">
                                <canvas id="barChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 研究方向活跃度挂件 -->
        <section class="trends-section">
            <div class="trends-widget">
                <div class="trends-widget-header">
                    <h3><i class="fas fa-chart-candlestick"></i> 研究方向活跃度</h3>
                    <div class="trends-time-selector">
                        <button class="trends-time-btn active" data-days="7" title="近7天">7天</button>
                        <button class="trends-time-btn" data-days="30" title="近30天">30天</button>
                    </div>
                </div>
                <div class="trends-widget-content" id="trendsContainer">
                    <div class="loading-spinner-small">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>加载趋势数据中...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 论文清单 -->
        <section class="papers-list-section">
            <div class="papers-list-main">
                    <div class="papers-list-header">
                        <h2>
                            <i class="fas fa-list"></i> 具身论文清单
                        </h2>
                    </div>
                    
                    <!-- 搜索框 -->
                    <div class="search-section">
                <div class="search-container">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="searchInput" placeholder="搜索论文标题或作者...">
                        <select id="categoryFilter">
                            <option value="">所有类别</option>
                        </select>
                        <button id="searchBtn" class="btn btn-primary">
                            <i class="fas fa-search"></i> 搜索
                        </button>
                        <button id="clearSearchBtn" class="btn btn-secondary hidden">
                            <i class="fas fa-times"></i> 清除搜索
                        </button>
                    </div>
                </div>
                <div id="searchResults" class="search-results hidden"></div>
            </div>
            
            <!-- 筛选和排序工具栏 -->
            <div class="filter-sort-toolbar">
                <div class="filter-group">
                    <label><i class="fas fa-filter"></i> 筛选：</label>
                    <select id="venueFilter" class="filter-select">
                        <option value="">所有发表场所</option>
                    </select>
                </div>
                <div class="sort-group">
                    <label><i class="fas fa-sort"></i> 排序：</label>
                    <select id="sortBy" class="sort-select">
                        <option value="date">按日期</option>
                        <option value="citations">按被引用数量</option>
                        <option value="title">按标题</option>
                    </select>
                </div>
            </div>
            
            <!-- 标签页（筛选按钮） -->
            <div class="tabs" id="tabs">
                <!-- 标签页将通过JS动态生成 -->
            </div>

            <!-- 最后更新时间 -->
            <div class="last-update-info">
                <i class="fas fa-clock"></i>
                <span>最后更新: <span id="lastUpdateTime">加载中...</span></span>
            </div>

            <!-- 论文列表 -->
            <div class="papers-section-content">
                
                <div class="papers-container" id="papersContainer">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin fa-3x"></i>
                        <p>加载论文数据中...</p>
                    </div>
                </div>
            </div>
        </section>
            </div> <!-- 结束 main-content -->
            
            <!-- 右侧独立挂窗区域 -->
            <aside class="side-widgets">
                <!-- 新闻信息挂窗 -->
                <div class="news-widget">
                    <div class="news-widget-header">
                        <h3><i class="fas fa-newspaper"></i> 具身24h新闻🔥</h3>
                        <div class="news-header-actions">
                            <button id="fetchNewsBtn" class="btn-refresh-news" title="刷新新闻">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                            <span class="news-count" id="newsCount">-</span>
                        </div>
                    </div>
                    <div class="news-widget-content scrolling" id="newsContainer">
                        <div class="loading-spinner-small">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载新闻信息中...</p>
                        </div>
                    </div>
                </div>
                
                <!-- 具身赛博🙏挂件 -->
                <div class="fortune-widget">
                    <div class="fortune-widget-header">
                        <div class="fortune-header-left">
                            <h3>具身赛博🙏</h3>
                            <span class="fortune-daily-badge">每日一拜</span>
                        </div>
                        <span class="fortune-date" id="fortuneDate"></span>
                    </div>
                    <div class="fortune-widget-content" id="fortuneContainer">
                        <!-- 选择今天重要的事 -->
                        <div class="fortune-category-section">
                            <div class="fortune-category-hint">
                                <i class="fas fa-hands-praying"></i>
                                <span>选择近期对你很重要的事，拜拜求福</span>
                            </div>
                            <div class="fortune-category-tags" id="fortuneCategoryTags">
                                <div class="category-tag active" data-category="coding">
                                    <span class="tag-icon">☕</span>
                                    <span class="tag-text">调测代码</span>
                                </div>
                                <div class="category-tag" data-category="hardware">
                                    <span class="tag-icon">🤖</span>
                                    <span class="tag-text">硬件联调</span>
                                </div>
                                <div class="category-tag" data-category="paper">
                                    <span class="tag-icon">📝</span>
                                    <span class="tag-text">投稿论文</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 主画面区域 -->
                        <div class="fortune-main-scene">
                            <!-- 佛像/赛博佛像（可点击） -->
                            <div class="fortune-buddha-main clickable" id="fortuneTubeMain">
                                <div class="buddha-body">
                                    <div class="buddha-click-hint">
                                        <i class="fas fa-hands-praying"></i>
                                        <span>拜拜求福</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 隐藏的拜拜按钮（保留用于逻辑） -->
                            <button class="fortune-shake-btn hidden" id="fortuneShakeBtn" style="display: none;">
                                <i class="fas fa-hands-praying"></i>
                                <span>拜一拜</span>
                            </button>
                            
                            <!-- 飞出的赐福文字 -->
                            <div class="fortune-stick-flying" id="fortuneStickFlying">
                                <div class="blessing-paper">
                                    <div class="blessing-content" id="fortuneStickContent"></div>
                                </div>
                            </div>
                            
                            <!-- 结果展示（覆盖层） -->
                            <div class="fortune-result-overlay hidden" id="fortuneResult">
                                <div class="fortune-result-content">
                                    <div class="fortune-icon">
                                        <div class="three-incense-sticks">
                                            <div class="incense-stick"></div>
                                            <div class="incense-stick"></div>
                                            <div class="incense-stick"></div>
                                        </div>
                                    </div>
                                    <div class="fortune-message" id="fortuneMessage"></div>
                                    <div class="fortune-timestamp" id="fortuneTimestamp"></div>
                                    <div class="fortune-result-bg"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Bilibili挂件 -->
                <div class="bilibili-widget">
                    <div class="bilibili-widget-header">
                        <div class="bilibili-header-title">
                            <h3><i class="fab fa-bilibili"></i> B站</h3>
                            <button class="bilibili-toggle-btn" id="bilibiliToggleBtn" title="展开/收起">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div class="bilibili-header-actions">
                            <a href="https://limxdynamics.com/" target="_blank" class="limx-link-btn" title="逐际动力 LimX">
                                <span>逐际动力 LimX</span>
                            </a>
                            <a href="https://space.bilibili.com/1172054289" target="_blank" class="bilibili-link" title="前往Bilibili空间">
                                <i class="fas fa-external-link-alt"></i>
                            </a>
                        </div>
                    </div>
                    <div class="bilibili-widget-content" id="bilibiliContainer">
                        <div class="loading-spinner-small">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载Bilibili信息中...</p>
                        </div>
                    </div>
                </div>
                
                <!-- 学生实习机会挂窗 -->
                <div class="jobs-widget collapsed">
                    <div class="jobs-widget-header" id="jobsWidgetHeader">
                        <h3 class="widget-title-clickable">
                            <i class="fas fa-briefcase"></i> 具身岗位机会
                            <span class="update-badge hidden" id="jobsUpdateBadge" title="有新更新"></span>
                            <i class="fas fa-chevron-down widget-toggle-icon" id="jobsToggleIcon"></i>
                        </h3>
                        <div class="jobs-widget-header-actions">
                            <a href="https://career.limxdynamics.com/index" target="_blank" class="jobs-header-btn" onclick="event.stopPropagation();">
                                <span>LimX招聘🔥</span>
                            </a>
                            <span class="jobs-count" id="jobsCount">-</span>
                        </div>
                    </div>
                    <div class="jobs-widget-content" id="jobsContainer">
                        <div class="loading-spinner-small">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载招聘信息中...</p>
                        </div>
                    </div>
                </div>
                
                <!-- 数据集信息挂窗 -->
                <div class="datasets-widget collapsed">
                    <div class="datasets-widget-header" id="datasetsWidgetHeader">
                        <h3 class="widget-title-clickable">
                            <i class="fas fa-database"></i> 具身数据集
                            <span class="update-badge hidden" id="datasetsUpdateBadge" title="有新更新"></span>
                            <i class="fas fa-chevron-down widget-toggle-icon" id="datasetsToggleIcon"></i>
                        </h3>
                        <span class="datasets-count" id="datasetsCount">-</span>
                    </div>
                    <div class="datasets-widget-content" id="datasetsContainer">
                        <div class="loading-spinner-small">
                            <i class="fas fa-spinner fa-spin"></i>
                            <p>加载数据集信息中...</p>
                        </div>
                    </div>
                </div>
                
            </aside>
        </div> <!-- 结束 main-content-wrapper -->

        <!-- 抓取状态 -->
        <div id="fetchStatus" class="fetch-status hidden">
            <div class="status-content">
                <div class="status-header">
                    <i class="fas fa-spinner fa-spin"></i>
                    <span id="statusMessage">正在抓取论文...</span>
                </div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- 抓取配置模态框已移除 - 现在直接点击按钮执行脚本 -->

    <script src="{{ url_for('static', filename='js/blessing_messages.js') }}"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
