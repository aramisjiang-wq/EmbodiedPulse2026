# è§£å†³æœåŠ¡å™¨æ›´æ–°å†²çª

## ğŸ” é—®é¢˜åˆ†æ

æœåŠ¡å™¨æ‰§è¡Œ `git pull origin main` æ—¶é‡åˆ°é”™è¯¯ï¼š

```
error: The following untracked working tree files would be overwritten by merge:
        scripts/update_play_formatted.py
Please move or remove them before you merge.
```

**åŸå› **ï¼š
- æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ªæœªè·Ÿè¸ªçš„æ–‡ä»¶ `scripts/update_play_formatted.py`
- GitHubä¸Šçš„ä»£ç ä¹ŸåŒ…å«è¿™ä¸ªæ–‡ä»¶
- Gitæ‹’ç»åˆå¹¶ï¼Œé˜²æ­¢è¦†ç›–æœ¬åœ°æ–‡ä»¶

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: å¤‡ä»½å¹¶åˆ é™¤å†²çªæ–‡ä»¶ï¼ˆæ¨èï¼‰

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /srv/EmbodiedPulse2026

# å¤‡ä»½å†²çªæ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ä¿ç•™ï¼‰
cp scripts/update_play_formatted.py scripts/update_play_formatted.py.backup

# åˆ é™¤å†²çªæ–‡ä»¶
rm scripts/update_play_formatted.py

# é‡æ–°æ‹‰å–ä»£ç 
git pull origin main

# é‡å¯æœåŠ¡
systemctl restart embodiedpulse
```

### æ–¹æ¡ˆ2: æš‚å­˜å†²çªæ–‡ä»¶åæ›´æ–°

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /srv/EmbodiedPulse2026

# æš‚å­˜å†²çªæ–‡ä»¶
mv scripts/update_play_formatted.py scripts/update_play_formatted.py.local

# æ‹‰å–ä»£ç 
git pull origin main

# å¦‚æœéœ€è¦ä¿ç•™æœ¬åœ°ç‰ˆæœ¬ï¼Œå¯ä»¥æ¯”è¾ƒå·®å¼‚
diff scripts/update_play_formatted.py.local scripts/update_play_formatted.py

# é‡å¯æœåŠ¡
systemctl restart embodiedpulse
```

### æ–¹æ¡ˆ3: å¼ºåˆ¶æ›´æ–°ï¼ˆå¦‚æœä¸éœ€è¦ä¿ç•™æœ¬åœ°æ–‡ä»¶ï¼‰

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /srv/EmbodiedPulse2026

# åˆ é™¤å†²çªæ–‡ä»¶
rm scripts/update_play_formatted.py

# å¼ºåˆ¶é‡ç½®åˆ°è¿œç¨‹ç‰ˆæœ¬
git fetch origin
git reset --hard origin/main

# é‡å¯æœåŠ¡
systemctl restart embodiedpulse
```

## ğŸš€ å®Œæ•´æ›´æ–°æµç¨‹

```bash
# SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh root@essay.gradmotion.com

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /srv/EmbodiedPulse2026

# 1. å¤„ç†å†²çªæ–‡ä»¶
rm scripts/update_play_formatted.py

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git fetch origin
git checkout main
git pull origin main

# 3. æ£€æŸ¥æ›´æ–°æ˜¯å¦æˆåŠŸ
git log --oneline -3

# 4. éªŒè¯æ–‡ä»¶æ˜¯å¦æ›´æ–°
grep -q "å¹´åº¦æ’­æ”¾é‡æŒ‚ä»¶é«˜åº¦ - ä¼˜åŒ–" templates/bilibili.html && echo "âœ… å·²æ›´æ–°" || echo "âŒ æœªæ›´æ–°"

# 5. é‡å¯æœåŠ¡
systemctl restart embodiedpulse

# 6. æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status embodiedpulse --no-pager -l | head -20
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¤‡ä»½é‡è¦æ–‡ä»¶**: å¦‚æœ `update_play_formatted.py` æœ‰é‡è¦ä¿®æ”¹ï¼Œå…ˆå¤‡ä»½
2. **æ£€æŸ¥æœåŠ¡çŠ¶æ€**: æ›´æ–°åæ£€æŸ¥æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
3. **éªŒè¯æ›´æ–°**: è®¿é—®ç½‘é¡µç¡®è®¤å‰ç«¯å·²æ›´æ–°

## âœ… éªŒè¯æ›´æ–°æˆåŠŸ

æ›´æ–°æˆåŠŸååº”è¯¥çœ‹åˆ°ï¼š

1. **Gitæäº¤**: `git log --oneline -1` æ˜¾ç¤º `393f66b0`
2. **æ–‡ä»¶å†…å®¹**: `grep "å¹´åº¦æ’­æ”¾é‡æŒ‚ä»¶é«˜åº¦ - ä¼˜åŒ–" templates/bilibili.html` æœ‰è¾“å‡º
3. **ç½‘é¡µæ•ˆæœ**: è®¿é—® https://essay.gradmotion.com/bilibili æ£€æŸ¥å³ä¾§æŒ‚ä»¶

